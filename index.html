<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--Peguei as fontes no site cndjs font-awesome: https://cdnjs.com/libraries/font-awesome
                                                     https://fontawesome.com/                 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="src/styles/styles.css">
    <title>ConstruMax</title>
    <style>
        /* Estilo para o carrinho de compras */
        #shopping-cart {
            border: 1px solid #ccc;
            padding: 20px;
            margin: 20px 0;
        }

        /* Estilo para os itens do carrinho */
        #cart-items div {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 5px 0;
        }

        /* Estilo para o botão de remoção */
        .remove-button {
            background-color: red;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <!--Navbar-->
    <header>
        <nav id="navbar">
            <p id="nav_logo">ConstruMax</p>

            <!--Lista dos meus itens na nav bar-->
            <ul id="nav_list">
                <li class="nav-item">
                    <a href="#home">Início</a>
                </li>
                <li class="nav-item">
                    <a href="#machines">Maquinário</a>
                </li>
                <li class="nav-item">
                    <a href="#services">Serviços</a>
                </li>
                <li class="nav-item">
                    <a href="#about">Sobre nós</a>
                </li>
            </ul>
        </nav>
    </header>

    <!--Conteudo principal-->
    <main id="content">
        <!--Banner do site-->
        <div id="banner">
            <img src="src/images/guindaste.jpg" class="home-banner" alt="Guindaste móvel">
        </div>
        <!--Home-->
        <section id="home">
            <!--Esse aqui é o Call to Action-->
            <div id="cta">
                <!--Slogan-->
                <h1 id="title">
                    ConstruMax Potência para Construir o Futuro
                </h1>
                <p class="description">
                    Entre em contato para duvidas
                </p>
                <!--Botão de atendimento-->
                <div id="cta_buttons">
                    <a href="tel:+12999996677" id="phone_button">
                        <button class="btn-default">
                            <i class="fa-solid fa-phone"></i>
                        </button>
                        (12) 99999-6677
                    </a>
                </div>

                <!--Social Media-->
                <div class="social-media-buttons">
                    <a href="#">
                        <i class="fa-brands fa-whatsapp">
                        </i>
                    </a>
                    <a href="#">
                        <i class="fa-brands fa-instagram">
                        </i>
                    </a>
                    <a href="#">
                        <i class="fa-brands fa-facebook">
                        </i>
                    </a>
                </div>
            </div>

        </section>

        <!--Aqui vai ficar um grid com alguns produtos-->
        <section id="catalog">
            <h2 id="title">Nosso Catálogo</h2>
            <div id="products">
                <div id="products_item" class="products-item">
                    <img src="src/images/retroescavadeira.jpg" alt="Retroescavadeira">
                    <h3>Retroescavadeira John Deere</h3>
                    <p>R$ 500.000</p>
                    <button class="btn-secondary" onclick="addToCart('Retroescavadeira John Deere', 500000)">Adicionar ao Carrinho</button>
                </div>
                <div id="products_item" class="products-item">
                    <img src="src/images/manipulador.jpg" alt="Manipulador Telescópico">
                    <h3>Manipulador Telescópico Gehl</h3>
                    <p>R$ 750.000</p>
                    <button class="btn-secondary" onclick="addToCart('Manipulador Telescópico Gehl', 750000)">Adicionar ao Carrinho</button>
                </div>
                <div id="products_item" class="products-item">
                    <img src="src/images/escavadeira.jpg" alt="Escavadeira">
                    <h3>Escavadeira Komatsu</h3>
                    <p>R$ 900.000</p>
                    <button class="btn-secondary" onclick="addToCart('Escavadeira Komatsu', 900000)">Adicionar ao Carrinho</button>
                </div>
                <!--Adcionar mais futuramente-->
            </div>
        </section>

        <!-- Seção de Aluguel -->
        <section id="rent" class="rent">
            <h2 id="title">Serviço de Aluguel</h2>
            <p>Prefere alugar? Confira nossas opções de máquinas disponíveis para locação com entrega rápida e suporte
                garantido.</p>
            <div>
                <button class="btn-default">Ver Máquinas para Alugar</button>
            </div>
        </section>
        
        <!-- Seção do Carrinho de Compras -->
        <section id="shopping-cart">
            <h2>Carrinho de Compras</h2>
            <div id="cart-items"></div> <!-- Itens do carrinho -->
            <p id="total-price">Total: R$ 0,00</p> <!-- Total do carrinho -->
            <button id="checkout-button" class="btn-default">Finalizar Compra</button>
        </section>
    </main>

    <!-- Rodapé -->
    <footer id="contact">
        <p>Contato: <a href="mailto:suporte@construmax.com">suporte@construmax.com</a></p>
        <p>Telefone: (12) 9999-6677</p>
        <p>© 2024 ContruMax. Todos os direitos reservados.</p>
    </footer>

    <script>
        let cart = []; // Array para armazenar os itens do carrinho
        let total = 0; // Variável para armazenar o total
    
        // Função para formatar o preço
        function formatPrice(value) {
            return `R$ ${value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".").replace('.', ',')}`;
        }
    
        // Função para adicionar itens ao carrinho
        function addToCart(name, price) {
            cart.push({ name, price }); // Adiciona o item ao carrinho
            total += price; // Atualiza o total
            updateCart(); // Atualiza a exibição do carrinho
        }
    
        // Função para remover itens do carrinho
        function removeFromCart(index) {
            total -= cart[index].price; // Atualiza o total
            cart.splice(index, 1); // Remove o item do carrinho
            updateCart(); // Atualiza a exibição do carrinho
        }
    
        // Função para atualizar a exibição do carrinho
        function updateCart() {
            const cartItemsDiv = document.getElementById('cart-items');
            cartItemsDiv.innerHTML = ''; // Limpa os itens do carrinho
    
            // Adiciona cada item do carrinho à exibição
            cart.forEach((item, index) => {
                const itemDiv = document.createElement('div');
                // Formata o preço usando a função formatPrice
                itemDiv.textContent = `${item.name} - ${formatPrice(item.price)}`; // Formata o preço
                
                // Cria o botão de remoção
                const removeButton = document.createElement('button');
                removeButton.textContent = 'Remover';
                removeButton.className = 'remove-button';
                removeButton.onclick = () => removeFromCart(index); // Ação ao clicar no botão
    
                itemDiv.appendChild(removeButton); // Adiciona o botão ao item
                cartItemsDiv.appendChild(itemDiv); // Adiciona o item à exibição do carrinho
            });
    
            // Atualiza o total do carrinho usando a função formatPrice
            document.getElementById('total-price').textContent = `Total: ${formatPrice(total)}`;
        }
    </script>
    
   
</body>

</html>